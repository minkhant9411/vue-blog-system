(function(){"use strict";var e={513:function(e,t,a){var l=a(9963),o=a(6252);function n(e,t,a,l,n,r){const s=(0,o.up)("NavBar"),i=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s),(0,o.Wm)(i)],64)}const r={class:"loading"},s=(0,o._)("div",{class:"loading-view"},null,-1),i=[s];function d(e,t,a,l,n,s){return(0,o.wg)(),(0,o.iD)("div",r,i)}var u={},c=a(3744);const g=(0,c.Z)(u,[["render",d]]);var p=g;const b={class:"navbar navbar-expand-lg bg-light"},v={class:"container-fluid"},m=(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1),y={class:"collapse navbar-collapse",id:"navbarNavDropdown"},f={class:"navbar-nav"},w={class:"nav-item"},h={class:"nav-item"};function _(e,t,a,l,n,r){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",b,[(0,o._)("div",v,[(0,o.Wm)(s,{to:{name:"home"},class:"navbar-brand"},{default:(0,o.w5)((()=>[(0,o.Uk)(" My Blog ")])),_:1}),m,(0,o._)("div",y,[(0,o._)("ul",f,[(0,o._)("li",w,[(0,o.Wm)(s,{to:{name:"home"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Home ")])),_:1})]),(0,o._)("li",h,[(0,o.Wm)(s,{to:{name:"create-blog"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Create ")])),_:1})])])])])])}const k={class:"input-group w-25 my-2 my-lg-0"},D=(0,o._)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"},null,-1),x=(0,o._)("button",{class:"btn btn-outline-success my-2 my-sm-0",type:"submit"}," Search ",-1),H=[D,x];function S(e,t,a,l,n,r){return(0,o.wg)(),(0,o.iD)("form",k,H)}var U={props:["blogs"]};const C=(0,c.Z)(U,[["render",S]]);var W=C,T={components:{Search:W}};const B=(0,c.Z)(T,[["render",_]]);var O=B,j={components:{Spinner:p,NavBar:O},setup(){}};const P=(0,c.Z)(j,[["render",n]]);var Z=P,q=a(2201);const z={class:"row mx-auto container"},L={class:"col-md-8"},A={key:0,class:"text-center text-danger mt-3 text-uppercase"},K={key:0,class:"col-md-4 order-first order-md-last"},V={key:1};function Y(e,t,a,l,n,r){const s=(0,o.up)("PostList"),i=(0,o.up)("TagCloud"),d=(0,o.up)("Spinner");return(0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("div",L,[(0,o.Wm)(s,{blogs:l.search},null,8,["blogs"]),!l.search.length&&l.blogs.length?((0,o.wg)(),(0,o.iD)("h3",A," not found! ")):(0,o.kq)("",!0)]),l.blogs.length?((0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(i,{blogs:l.blogs,onSearch:l.filterBlog},null,8,["blogs","onSearch"])])):((0,o.wg)(),(0,o.iD)("div",V,[(0,o.Wm)(d)]))])}var J=a(3577);const M=(0,o._)("h1",null,"Search by tags",-1),E={class:"input-group"},I=["search"],N=(0,o._)("div",{class:"input-group-append"},[(0,o._)("input",{type:"button",class:"btn btn-primary",value:"search"})],-1);function F(e,t,a,n,r,s){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[M,(0,o._)("div",E,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:"search...",class:"form-control mb-2 input","onUpdate:modelValue":t[0]||(t[0]=e=>n.search=e),search:e.$emit("search",n.search)},null,8,I),[[l.nr,n.search]]),N]),(0,o.Wm)(i,{class:"badge rounded-pill text-bg-primary border-0",to:{name:"home"}},{default:(0,o.w5)((()=>[(0,o.Uk)(" All ")])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.uniqueTags,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"d-inline m-1"},[(0,o.Wm)(i,{class:"badge rounded-pill text-bg-primary border-0",to:{name:"Tag",params:{tag:e}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,J.zw)(e),1)])),_:2},1032,["to"])])))),128))],64)}a(7658);var Q=a(2262),G={props:["blogs"],emits:["search"],setup(e){let t=(0,Q.iH)([]),a=(0,Q.iH)("");e.blogs.forEach((e=>{e.tags.forEach((e=>{t.value.push(e)}))}));let l=t.value.filter(((e,t,a)=>a.indexOf(e)===t));return{uniqueTags:l,search:a}}};const R=(0,c.Z)(G,[["render",F]]);var $=R;function X(e,t,a,l,n,r){const s=(0,o.up)("SinglePost");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.blogs,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o.Wm)(s,{blog:e},null,8,["blog"])])))),128)}const ee={class:"card mb-3"},te={class:"card-body"},ae={class:"d-flex justify-content-between"},le={class:"col-10"},oe={key:0},ne={key:1};function re(e,t,a,l,n,r){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",ee,[(0,o._)("div",te,[(0,o._)("div",ae,[(0,o._)("div",le,[(0,o._)("h1",null,(0,J.zw)(a.blog.title),1)]),(0,o.Wm)(s,{to:{name:"blog",params:{id:a.blog.id}},class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Uk)("view blog")])),_:1},8,["to"])]),l.readAll?((0,o.wg)(),(0,o.iD)("div",oe,[(0,o.Uk)((0,J.zw)(a.blog.body)+" ",1),a.blog.body.length>100?((0,o.wg)(),(0,o.iD)("small",{key:0,onClick:t[0]||(t[0]=e=>l.readAll=!l.readAll)},"read less...")):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",ne,[(0,o._)("p",null,[(0,o.Uk)((0,J.zw)(l.cutBlogBody)+" ",1),a.blog.body.length>100?((0,o.wg)(),(0,o.iD)("small",{key:0,onClick:t[1]||(t[1]=e=>l.readAll=!l.readAll)},"read more...")):(0,o.kq)("",!0)])])),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.blog.tags,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"d-inline m-1"},[(0,o.Wm)(s,{class:"badge rounded-pill text-bg-primary border-0",to:{name:"Tag",params:{tag:e}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,J.zw)(e),1)])),_:2},1032,["to"])])))),128))])])}var se={props:["blog"],setup(e){let t=(0,Q.iH)(!1),a=(0,o.Fl)((()=>e.blog.body.substring(0,100)));return{cutBlogBody:a,readAll:t}}};const ie=(0,c.Z)(se,[["render",re]]);var de=ie,ue={components:{SinglePost:de},props:["blogs"]};const ce=(0,c.Z)(ue,[["render",X]]);var ge=ce,pe=a(3977),be=a(6100);const ve={apiKey:"AIzaSyCo7wDxnRjRzjHUa64U87HLDIGEJeQGIA0",authDomain:"vue-blog-system-62905.firebaseapp.com",projectId:"vue-blog-system-62905",storageBucket:"vue-blog-system-62905.appspot.com",messagingSenderId:"931535730436",appId:"1:931535730436:web:49b38697234219be95c251"},me=(0,pe.ZF)(ve);let ye=(0,be.ad)(me),fe=()=>{let e=(0,Q.iH)([]),t=(0,Q.iH)(""),a=async()=>{let t=(0,be.hJ)(ye,"blogs"),a=await(0,be.PL)(t);e.value=a.docs.map((e=>({id:e.id,...e.data()})))};return{blogs:e,error:t,load:a}};var we=fe,he={name:"HomeView",components:{TagCloud:$,PostList:ge,Spinner:p,SinglePost:de},setup(e){let t=(0,Q.iH)([]),{blogs:a,error:l,load:o}=we();function n(e){e.length?t.value=a.value.filter((t=>t.title.includes(e.toLowerCase()))):t.value=a.value}return o(),{blogs:a,error:l,filterBlog:n,search:t}}};const _e=(0,c.Z)(he,[["render",Y]]);var ke=_e;const De={class:"container"},xe={class:"create card"},He=(0,o._)("div",{class:"card-header"},[(0,o._)("h1",null,"Create")],-1),Se={class:"card-body"},Ue={key:0},Ce=(0,o._)("label",{for:"title"},"title",-1),We=(0,o._)("label",{for:"body"},"body",-1),Te=(0,o._)("label",{for:"tags"},"tags",-1),Be=(0,o._)("small",{class:"text-secondary text-lowercase"}," (add tag by press enter) ",-1),Oe={class:"input-group mb-3"},je={class:"input-group-append"},Pe=["onClick"],Ze=(0,o._)("button",{class:"btn btn-primary float-end"},"Create",-1),qe={key:1};function ze(e,t,a,n,r,s){const i=(0,o.up)("Spinner");return(0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("div",xe,[He,(0,o._)("div",Se,[n.postData?((0,o.wg)(),(0,o.iD)("div",Ue,[(0,o._)("form",{class:"create-form text-uppercase",onSubmit:t[5]||(t[5]=(0,l.iM)(((...e)=>n.create&&n.create(...e)),["prevent"]))},[Ce,(0,o.wy)((0,o._)("input",{type:"text",id:"title",class:"form-control mb-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.title=e),required:""},null,512),[[l.nr,n.title]]),We,(0,o.wy)((0,o._)("textarea",{id:"body",class:"form-control mb-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.body=e),required:""},null,512),[[l.nr,n.body]]),Te,Be,(0,o._)("div",Oe,[(0,o.wy)((0,o._)("input",{id:"tags",type:"text",class:"form-control mb-2","onUpdate:modelValue":t[2]||(t[2]=e=>n.tag=e),onKeydown:t[3]||(t[3]=(0,l.D2)((0,l.iM)(((...e)=>n.addtag&&n.addtag(...e)),["prevent"]),["enter"]))},null,544),[[l.nr,n.tag]]),(0,o._)("div",je,[(0,o._)("span",{class:"input-group-text btn btn-primary",id:"basic-addon2",onClick:t[4]||(t[4]=(...e)=>n.addtag&&n.addtag(...e))},"add")])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tags,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"d-inline"},[(0,o._)("span",{class:"badge rounded-pill text-bg-primary",onClick:t=>n.remove(e)},(0,J.zw)(e),9,Pe)])))),128)),Ze],32)])):((0,o.wg)(),(0,o.iD)("div",qe,[(0,o.Wm)(i)]))])])])}var Le={components:{Spinner:p},setup(e){let t=(0,Q.iH)(""),a=(0,Q.iH)(""),l=(0,Q.iH)([]),o=(0,Q.iH)(""),n=(0,q.tv)(),r=(0,Q.iH)(!0),s=()=>{!l.value.includes(o.value.trim().toLowerCase())&&o.value&&l.value.push(o.value.trim().toLowerCase()),o.value=""},i=e=>{l.value=l.value.filter((t=>t!=e))},d=async()=>{let e={title:t.value,body:a.value,tags:l.value};r.value=!1;let o=(0,be.hJ)(ye,"blogs");await(0,be.ET)(o,e),r.value=!0,n.push("/")};return{title:t,body:a,tag:o,tags:l,create:d,addtag:s,postData:r,remove:i}}};const Ae=(0,c.Z)(Le,[["render",ze]]);var Ke=Ae;const Ve={class:"container"},Ye={class:"create card"},Je=(0,o._)("div",{class:"card-header"},[(0,o._)("h1",null,"Edit")],-1),Me={class:"card-body"},Ee={key:0},Ie={key:1},Ne=(0,o._)("label",{for:"title"},"title",-1),Fe=(0,o._)("label",{for:"body"},"body",-1),Qe=(0,o._)("label",{for:"tags"},"tags",-1),Ge=(0,o._)("small",{class:"text-secondary text-lowercase"}," (add tag by press enter) ",-1),Re={class:"input-group mb-3"},$e={class:"input-group-append"},Xe=["onClick"],et=(0,o._)("button",{class:"btn btn-primary float-end"},"Update",-1),tt={key:2};function at(e,t,a,n,r,s){const i=(0,o.up)("Spinner");return(0,o.wg)(),(0,o.iD)("div",Ve,[(0,o._)("div",Ye,[Je,(0,o._)("div",Me,[n.title?n.postData?((0,o.wg)(),(0,o.iD)("div",Ie,[(0,o._)("form",{class:"create-form text-uppercase",onSubmit:t[5]||(t[5]=(0,l.iM)(((...e)=>n.edit&&n.edit(...e)),["prevent"]))},[Ne,(0,o.wy)((0,o._)("input",{type:"text",id:"title",class:"form-control mb-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.title=e),required:""},null,512),[[l.nr,n.title]]),Fe,(0,o.wy)((0,o._)("textarea",{id:"body",class:"form-control mb-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.body=e),required:""},null,512),[[l.nr,n.body]]),Qe,Ge,(0,o._)("div",Re,[(0,o.wy)((0,o._)("input",{id:"tags",type:"text",class:"form-control mb-2","onUpdate:modelValue":t[2]||(t[2]=e=>n.tag=e),onKeydown:t[3]||(t[3]=(0,l.D2)((0,l.iM)(((...e)=>n.addtag&&n.addtag(...e)),["prevent"]),["enter"]))},null,544),[[l.nr,n.tag]]),(0,o._)("div",$e,[(0,o._)("span",{class:"input-group-text btn btn-primary",id:"basic-addon2",onClick:t[4]||(t[4]=(...e)=>n.addtag&&n.addtag(...e))},"add")])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tags,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"d-inline"},[(0,o._)("span",{class:"badge rounded-pill text-bg-primary",onClick:t=>n.removeTag(e)},(0,J.zw)(e),9,Xe)])))),128)),et],32)])):((0,o.wg)(),(0,o.iD)("div",tt,[(0,o.Wm)(i)])):((0,o.wg)(),(0,o.iD)("div",Ee,[(0,o.Wm)(i)]))])])])}var lt={props:["id"],components:{Spinner:p},setup(e){let t=(0,Q.iH)([]),a=(0,Q.iH)(""),l=(0,Q.iH)(""),o=(0,Q.iH)([]),n=(0,Q.iH)(""),r=(0,q.tv)(),s=(0,Q.iH)(!0),i=async()=>{let n=(0,be.JU)(ye,"blogs",e.id),r=await(0,be.QT)(n);t.value={id:r.id,...r.data()},a.value=t.value.title,l.value=t.value.body,o.value=t.value.tags};i();let d=()=>{!o.value.includes(n.value.trim().toLowerCase())&&n.value&&o.value.push(n.value.trim()),n.value=""},u=e=>{o.value=o.value.filter((t=>t!=e))},c=async()=>{let t={title:a.value,body:l.value,tags:o.value};s.value=!1;let n=(0,be.JU)(ye,"blogs",e.id);await(0,be.r7)(n,t),s.value=!0,r.push("/")};return{title:a,body:l,tag:n,tags:o,edit:c,addtag:d,postData:s,blog:t,removeTag:u}}};const ot=(0,c.Z)(lt,[["render",at]]);var nt=ot;const rt={class:"card mb-3"},st={key:0},it={class:"card-body"},dt={key:0,class:"d-flex justify-content-between"},ut={key:1};function ct(e,t,a,l,n,r){const s=(0,o.up)("Spinner"),i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",rt,[l.blog.title||l.blog.body?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",st,[(0,o.Wm)(s)])),(0,o._)("div",it,[l.blog.title?((0,o.wg)(),(0,o.iD)("div",dt,[(0,o._)("h1",null,(0,J.zw)(l.blog.title),1),(0,o.Wm)(i,{to:{name:"edit-blog",params:{id:l.blog.id}},class:"col-2"},{default:(0,o.w5)((()=>[(0,o.Uk)("edit blog")])),_:1},8,["to"])])):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,J.zw)(l.blog.body)+" ",1),l.blog.tags?((0,o.wg)(),(0,o.iD)("div",ut,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.blog.tags,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"d-inline m-1"},[(0,o.Wm)(i,{class:"badge rounded-pill text-bg-primary border-0",to:{name:"Tag",params:{tag:e}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,J.zw)(e),1)])),_:2},1032,["to"])])))),128))])):(0,o.kq)("",!0)]),(0,o._)("button",{class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>l.deleteBlog&&l.deleteBlog(...e))},"delete blog")])])}let gt=e=>{let t=(0,Q.iH)([]),a=(0,Q.iH)(""),l=async()=>{let a=(0,be.JU)(ye,"blogs",e),l=await(0,be.QT)(a);t.value={id:l.id,...l.data()}};return{blog:t,error:a,load:l}};var pt=gt,bt={components:{Spinner:p},props:["id"],setup(e){let t=(0,q.tv)(),{blog:a,error:l,load:o}=pt(e.id);o();let n=async()=>{if(confirm("are you sure?")){let a=(0,be.JU)(ye,"blogs",e.id);(0,be.oe)(a),t.push("/")}};return{blog:a,error:l,deleteBlog:n}}};const vt=(0,c.Z)(bt,[["render",ct]]);var mt=vt;const yt={key:0,class:"row mx-auto container"},ft={class:"col-md-8"},wt={class:"col-md-4 order-first order-md-last"},ht={key:1};function _t(e,t,a,l,n,r){const s=(0,o.up)("PostList"),i=(0,o.up)("TagCloud"),d=(0,o.up)("Spinner");return l.filterBlogs.length?((0,o.wg)(),(0,o.iD)("div",yt,[(0,o._)("div",ft,[(0,o.Wm)(s,{blogs:l.filterBlogs},null,8,["blogs"])]),(0,o._)("div",wt,[(0,o.Wm)(i,{blogs:l.blogs},null,8,["blogs"])])])):((0,o.wg)(),(0,o.iD)("div",ht,[(0,o.Wm)(d)]))}var kt={components:{TagCloud:$,Spinner:p,PostList:ge},props:["tag"],setup(e){let{blogs:t,error:a,load:l}=we();l();let n=(0,o.Fl)((()=>t.value.filter((t=>t.tags.includes(e.tag)))));return{blogs:t,error:a,filterBlogs:n}}};const Dt=(0,c.Z)(kt,[["render",_t]]);var xt=Dt;const Ht=[{path:"/",name:"home",component:ke},{path:"/create-blog",name:"create-blog",component:Ke},{path:"/edit-blog/:id",name:"edit-blog",component:nt,props:!0},{path:"/blogs/:id",name:"blog",component:mt,props:!0},{path:"/tags/:tag",name:"Tag",component:xt,props:!0}],St=(0,q.p7)({history:(0,q.PO)("/blog-system/"),routes:Ht});var Ut=St;a(8877);(0,l.ri)(Z).use(Ut).mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,n){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],n=e[u][2];for(var s=!0,i=0;i<l.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(s=!1,n<r&&(r=n));if(s){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,o,n]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,n,r=l[0],s=l[1],i=l[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(i)var u=i(a)}for(t&&t(l);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},l=self["webpackChunkblog_system"]=self["webpackChunkblog_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(513)}));l=a.O(l)})();
//# sourceMappingURL=app.52ec6d04.js.map